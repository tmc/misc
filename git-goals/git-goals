#!/usr/bin/bash
set -euo pipefail

VERSION="0.1.2"

if [ "$1" = "--version" ]; then
    echo "git-goals version $VERSION"
    exit 0
fi

if [ $# -eq 0 ]; then
    echo "Usage: git goals <subcommand> [<args>]"
    echo "Available subcommands: create, list, show, update, delete, complete, report, recover"
    echo "Use --version to display version information"
    exit 1
fi

subcommand="$1"
shift

case "$subcommand" in
    create|list|show|update|delete|complete|report|recover)
        "git-goals-$subcommand" "$@"
        ;;
    *)
        echo "Error: Unknown subcommand '$subcommand'"
        echo "Available subcommands: create, list, show, update, delete, complete, report, recover"
        exit 1
        ;;
esac
