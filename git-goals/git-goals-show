#!/bin/bash

# Check if an ID is provided
if [ $# -eq 0 ]; then
    echo "Error: Please provide a goal ID."
    echo "Usage: git goals show <id>"
    exit 1
fi

id="$1"

# Check if .git-goals file exists
if [ ! -f .git-goals ]; then
    echo "Error: No goals found. Use 'git goals create' to add a new goal."
    exit 1
fi

# Search for the goal with the given ID
goal=$(grep "^#$id |" .git-goals)

if [ -z "$goal" ]; then
    echo "Error: Goal with ID $id not found."
    exit 1
fi

# Parse and display the goal details
IFS='|' read -r _ status description <<< "$goal"
echo "ID: $id"
echo "Status: ${status## }"
echo "Description: ${description## }"
