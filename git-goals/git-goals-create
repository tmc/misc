#!/bin/bash
set -euo pipefail

if [ $# -eq 0 ]; then
    echo "Error: Please provide a description for the goal."
    echo "Usage: git goals create <description>"
    exit 1
fi

description="$*"
id=$(date +%Y%m%d%H%M%S)

git notes --ref=goals add -m "id: $id
type: goal
description: $description
status: active
created_at: $(date -I)" HEAD

echo "Goal created successfully:"
echo "ID: $id"
echo "Description: $description"

