#!/usr/bin/bash

set -euo pipefail

source "$(dirname "$0")/git-goals-common.sh"

load_config
NOTE_REF_NAME=${NOTE_REF_NAME:-goals}
DATE_FORMAT=${DATE_FORMAT:-%Y-%m-%d}
MAX_GOALS_DISPLAY=${MAX_GOALS_DISPLAY:-0}


set -euo pipefail
nload_config
check_args "$@"



description="$*"
id=$(date +%Y%m%d%H%M%S)

git notes --ref=goals add -m "id: $id
type: goal
description: $description
status: active
created_at: $(date -I)" HEAD

echo -e "\033[1mCreated new goal with ID: $id"
echo -e "\033[1mDescription: $description"
