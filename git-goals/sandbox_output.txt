+ set -euo pipefail
++ pwd
+ export PATH=/workspace/git-goals:/go/bin:/usr/local/go/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+ PATH=/workspace/git-goals:/go/bin:/usr/local/go/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ mktemp -d
+ test_dir=/tmp/tmp.87yWkhopDp
+ cd /tmp/tmp.87yWkhopDp
+ echo 'Setting up test repository...'
Setting up test repository...
+ git init
[33mhint: Using 'master' as the name for the initial branch. This default branch name[m
[33mhint: is subject to change. To configure the initial branch name to use in all[m
[33mhint: of your new repositories, which will suppress this warning, call:[m
[33mhint: [m
[33mhint: 	git config --global init.defaultBranch <name>[m
[33mhint: [m
[33mhint: Names commonly chosen instead of 'master' are 'main', 'trunk' and[m
[33mhint: 'development'. The just-created branch can be renamed via this command:[m
[33mhint: [m
[33mhint: 	git branch -m <name>[m
Initialized empty Git repository in /tmp/tmp.87yWkhopDp/.git/
+ git config user.email test@example.com
+ git config user.name 'Test User'
+ git commit --allow-empty -m 'Initial commit'
[master (root-commit) ee50ae8] Initial commit
+ echo 'Testing git-goals...'
Testing git-goals...
+ run_command git goals create 'Implement new feature'
+ echo '$ git' goals create 'Implement new feature'
$ git goals create Implement new feature
++ git goals create 'Implement new feature'
+ output='[master 94cf70d] Goal: Implement new feature
Created new goal with ID: 20240812073239
Description: Implement new feature'
+ echo '[master 94cf70d] Goal: Implement new feature
Created new goal with ID: 20240812073239
Description: Implement new feature'
[master 94cf70d] Goal: Implement new feature
Created new goal with ID: 20240812073239
Description: Implement new feature
+ echo

+ run_command git goals list
+ echo '$ git' goals list
$ git goals list
++ git goals list
error: no note found for object dedde6c53759f071a16fefcc798dfba7a7dcaaf7.
+ output='Current Goals:
-  (): '
+ echo 'Current Goals:
-  (): '
Current Goals:
-  (): 
+ echo

++ git goals list
++ grep 'Implement new feature'
++ sed -E 's/- ([^ ]+) .*/\1/'
error: no note found for object dedde6c53759f071a16fefcc798dfba7a7dcaaf7.
+ goal_id=
