// Code generated by parse-tc-module. DO NOT EDIT.

package postgres

import (
	"fmt"
	"time"

	"github.com/tmc/misc/testctr"
	"github.com/tmc/misc/testctr/ctropts"
)

// Default returns the default configuration for postgres containers.
func Default() testctr.Option {
	return testctr.Options(
		testctr.WithPort("5432"),
		ctropts.WithWaitForLog("database system is ready to accept connections", 30*time.Second),
		WithDSN(),
		testctr.WithEnv("POSTGRES_PASSWORD", "test"),
	)
}

func WithInitScripts(scripts ...string) testctr.Option {
	opts := make([]testctr.Option, len(scripts))
	for i, script := range scripts {
		opts[i] = testctr.WithFile(script, fmt.Sprintf("/docker-entrypoint-initdb.d/%02d-script.sql", i))
	}
	return testctr.Options(opts...)
}

func WithDatabase(database string) testctr.Option {
	return testctr.WithEnv("POSTGRES_DB", database)
}

func WithUsername(username string) testctr.Option {
	return testctr.WithEnv("POSTGRES_USER", username)
}

func WithPassword(password string) testctr.Option {
	return testctr.WithEnv("POSTGRES_PASSWORD", password)
}


func WithDefaultCredentials() testctr.Option {
	return testctr.WithEnv("POSTGRES_USER", "postgres")
}
