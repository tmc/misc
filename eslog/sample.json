{"action":{"result":{"result_type":0,"result":{"auth":0}}},"event_type":9,"seq_num":352,"event":{"exec":{"script":null,"dyld_exec_path":"/bin/bash","image_cpusubtype":-2147483646,"args":["/bin/bash","-c","-l","SNAPSHOT_FILE=/var/folders/kj/qbc32fzd2pv6ngnsysy8vpmw0000gn/T/claude-shell-snapshot-88fb\n      source \"/Users/tmc/.bashrc\" < /dev/null\n      \n      # First, create/clear the snapshot file\n      echo \"# Snapshot file\" >| $SNAPSHOT_FILE\n      \n      # When this file is sourced, we first unalias to avoid conflicts\n      # This is necessary because aliases get \"frozen\" inside function definitions at definition time,\n      # which can cause unexpected behavior when functions use commands that conflict with aliases\n      echo \"# Unset all aliases to avoid conflicts with functions\" >> $SNAPSHOT_FILE\n      echo \"unalias -a 2>/dev/null || true\" >> $SNAPSHOT_FILE\n      \n      \n      echo \"# Functions\" >> $SNAPSHOT_FILE\n      \n      # Force autoload all functions first\n      declare -f > /dev/null 2>&1\n      \n      # Now get user function names - filter system ones and give the rest to eval in b64 encoding\n      declare -F | cut -d' ' -f3 | grep -vE '^(_|__)' | while read func; do\n        # Encode the function to base64, preserving all special characters\n        encoded_func=$(declare -f \"$func\" | base64 )\n        # Write the function definition to the snapshot\n        echo \"eval \\\"\\$(echo '$encoded_func' | base64 -d)\\\" > /dev/null 2>&1\" >> $SNAPSHOT_FILE\n      done\n\n      echo \"# Shell Options\" >> $SNAPSHOT_FILE\n      shopt -p | head -n 1000 >> $SNAPSHOT_FILE\n      set -o | grep \"on\" | awk '{print \"set -o \" $1}' | head -n 1000 >> $SNAPSHOT_FILE\n      echo \"shopt -s expand_aliases\" >> $SNAPSHOT_FILE\n    \n      \n      echo \"# Aliases\" >> $SNAPSHOT_FILE\n      alias | sed 's/^alias //g' | sed 's/^/alias -- /' | head -n 1000 >> $SNAPSHOT_FILE\n      \n      # Add PATH to the file\n      echo \"export PATH='/Users/tmc/.bun/bin:/Users/tmc/.local/bin:/Users/tmc/.local/homebrew/share/google-cloud-sdk/bin:/Users/tmc/go/bin:/Users/tmc/.local/homebrew/bin:/Users/tmc/.local/bin:/Users/tmc/local/bin:/usr/local/bin:/Users/tmc/bin:/Users/tmc/go/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Applications/Little Snitch.app/Contents/Components:/usr/local/go/bin:/Applications/iTerm.app/Contents/Resources/utilities'\" >> $SNAPSHOT_FILE\n    "],"last_fd":2,"target":{"cdhash":"C1C7A9C4A112A53C9B6F0B610BDF8E3D1B8B2B0A","is_platform_binary":true,"team_id":null,"original_ppid":7322,"executable":{"stat":{"st_dev":16777254,"st_atimespec":"2025-05-04T05:39:22.000000000Z","st_ctimespec":"2025-05-04T05:39:22.000000000Z","st_size":1310224,"st_nlink":1,"st_mtimespec":"2025-05-04T05:39:22.000000000Z","st_blocks":1400,"st_gid":0,"st_flags":524320,"st_blksize":4096,"st_birthtimespec":"2025-05-04T05:39:22.000000000Z","st_gen":0,"st_uid":0,"st_ino":1152921500312522363,"st_rdev":0,"st_mode":33133},"path":"/bin/bash","path_truncated":false},"audit_token":{"auid":501,"pid":7338,"pidversion":14982,"euid":501,"rgid":20,"asid":100003,"egid":20,"ruid":501},"ppid":7322,"session_id":6430,"tty":{"stat":{"st_dev":1473701289,"st_atimespec":"2025-05-15T10:41:22.961118000Z","st_size":0,"st_ctimespec":"2025-05-15T10:41:22.961463000Z","st_nlink":1,"st_mtimespec":"2025-05-15T10:41:22.961463000Z","st_blocks":0,"st_gid":4,"st_flags":0,"st_blksize":65536,"st_birthtimespec":"1970-01-01T00:00:00.000000000Z","st_gen":0,"st_uid":501,"st_ino":853,"st_rdev":268435465,"st_mode":8592},"path":"/dev/ttys009","path_truncated":false},"responsible_audit_token":{"pid":5171,"euid":501,"pidversion":10927,"auid":501,"egid":20,"asid":100003,"rgid":20,"ruid":501},"is_es_client":false,"parent_audit_token":{"pid":7322,"euid":501,"pidversion":14951,"auid":501,"egid":20,"asid":100003,"rgid":20,"ruid":501},"group_id":7322,"start_time":"2025-05-15T10:41:23.377191Z","signing_id":"com.apple.bash","codesigning_flags":637602561},"image_cputype":16777228,"fds":[{"fd":0,"fdtype":2},{"fd":1,"fdtype":2},{"fd":2,"fdtype":2}],"cwd":{"stat":{"st_dev":16777268,"st_atimespec":"2025-05-15T10:40:16.613548152Z","st_ctimespec":"2025-05-15T10:40:13.275284890Z","st_size":2688,"st_nlink":84,"st_mtimespec":"2025-05-15T10:40:13.275284890Z","st_blocks":0,"st_gid":20,"st_flags":0,"st_blksize":4096,"st_birthtimespec":"2025-04-05T13:29:36.542312000Z","st_gen":0,"st_uid":501,"st_ino":11448707,"st_rdev":0,"st_mode":16877},"path_truncated":false,"path":"/Volumes/tmc/go/src/github.com/tmc/mcp"},"env":["TERM_PROGRAM=iTerm.app","TERM=xterm-256color","SHELL=/bin/bash","TMPDIR=/var/folders/kj/qbc32fzd2pv6ngnsysy8vpmw0000gn/T/","TERM_PROGRAM_VERSION=3.5.10","TERM_SESSION_ID=w0t0p1:4DF58C48-7436-483F-B9C4-62FC24E16E49","USER=tmc","COMMAND_MODE=unix2003","SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.UZOCaarHbT/Listeners","__CF_USER_TEXT_ENCODING=0x1F5:0x0:0x0","BASH_SILENCE_DEPRECATION_WARNING=1","TERM_FEATURES=T3LrMSc7UUw9Ts3BFGsSyHNoSxF","TERMINFO_DIRS=/Applications/iTerm.app/Contents/Resources/terminfo:/usr/share/terminfo","PATH=/Users/tmc/.bun/bin:/Users/tmc/.local/bin:/Users/tmc/.local/homebrew/share/google-cloud-sdk/bin:/Users/tmc/go/bin:/Users/tmc/.local/homebrew/bin:/Users/tmc/.local/bin:/Users/tmc/local/bin:/usr/local/bin:/Users/tmc/bin:/Users/tmc/go/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Applications/Little Snitch.app/Contents/Components:/usr/local/go/bin:/Applications/iTerm.app/Contents/Resources/utilities","__CFBundleIdentifier=com.googlecode.iterm2","PWD=/Users/tmc/go/src/github.com/tmc/mcp","EDITOR=vim","LANG=en_US.UTF-8","ITERM_PROFILE=Default","XPC_FLAGS=0x0","XPC_SERVICE_NAME=0","SHLVL=1","HOME=/Users/tmc","COLORFGBG=15;0","LC_TERMINAL_VERSION=3.5.10","ITERM_SESSION_ID=w0t0p1:4DF58C48-7436-483F-B9C4-62FC24E16E49","LOGNAME=tmc","BUN_INSTALL=/Users/tmc/.bun","LC_TERMINAL=iTerm2","DISABLE_TELEMETRY=1","COLORTERM=truecolor","_=/Users/tmc/.local/homebrew/bin/claude","OLDPWD=/Users/tmc/go/src/github.com/tmc","OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE=delta","CLAUDE_CODE_ENTRYPOINT=CLI","COREPACK_ENABLE_AUTO_PIN=0","GIT_EDITOR=true","CLAUDECODE=1"]}},"thread":{"thread_id":54501},"global_seq_num":352,"process":{"cdhash":"B40070F1D4AC3A274428F2CCAA3E6DFBE3AF24A0","is_platform_binary":false,"team_id":null,"original_ppid":7322,"executable":{"path_truncated":false,"stat":{"st_dev":16777254,"st_atimespec":"2025-05-15T10:41:22.982781342Z","st_size":86332920,"st_ctimespec":"2025-05-04T03:38:30.709111986Z","st_nlink":1,"st_mtimespec":"2025-05-04T03:38:22.227575928Z","st_blocks":168624,"st_gid":20,"st_flags":0,"st_blksize":4096,"st_birthtimespec":"2025-05-04T03:38:22.227575928Z","st_gen":0,"st_uid":501,"st_ino":1183413,"st_rdev":0,"st_mode":33133},"path":"/Users/tmc/.local/homebrew/Cellar/node/23.11.0/bin/node"},"audit_token":{"euid":501,"pid":7338,"pidversion":14981,"asid":100003,"ruid":501,"auid":501,"egid":20,"rgid":20},"session_id":6430,"ppid":7322,"tty":{"path_truncated":false,"stat":{"st_dev":1473701289,"st_atimespec":"2025-05-15T10:41:22.961118000Z","st_size":0,"st_ctimespec":"2025-05-15T10:41:22.961463000Z","st_nlink":1,"st_mtimespec":"2025-05-15T10:41:22.961463000Z","st_blocks":0,"st_gid":4,"st_flags":0,"st_blksize":65536,"st_birthtimespec":"1970-01-01T00:00:00.000000000Z","st_gen":0,"st_uid":501,"st_ino":853,"st_rdev":268435465,"st_mode":8592},"path":"/dev/ttys009"},"responsible_audit_token":{"egid":20,"rgid":20,"asid":100003,"pidversion":10927,"euid":501,"pid":5171,"auid":501,"ruid":501},"is_es_client":false,"parent_audit_token":{"egid":20,"rgid":20,"asid":100003,"pidversion":14951,"euid":501,"pid":7322,"auid":501,"ruid":501},"group_id":7322,"start_time":"2025-05-15T10:41:23.377191Z","signing_id":"node","codesigning_flags":570556931},"schema_version":1,"version":8,"mach_time":86620369863,"action_type":1,"time":"2025-05-15T10:41:23.377274753Z"}
{"seq_num":2276,"event_type":9,"time":"2025-05-15T10:50:25.821157502Z","thread":{"thread_id":54501},"action_type":1,"process":{"is_platform_binary":false,"responsible_audit_token":{"pid":5171,"egid":20,"ruid":501,"auid":501,"asid":100003,"rgid":20,"euid":501,"pidversion":10927},"is_es_client":false,"original_ppid":7322,"parent_audit_token":{"pid":7322,"egid":20,"ruid":501,"auid":501,"asid":100003,"rgid":20,"euid":501,"pidversion":14951},"group_id":7322,"team_id":null,"executable":{"path":"/Users/tmc/.local/homebrew/Cellar/node/23.11.0/bin/node","stat":{"st_rdev":0,"st_atimespec":"2025-05-15T10:45:29.277063911Z","st_gen":0,"st_gid":20,"st_size":86332920,"st_flags":0,"st_blksize":4096,"st_ctimespec":"2025-05-04T03:38:30.709111986Z","st_uid":501,"st_blocks":168624,"st_dev":16777254,"st_mtimespec":"2025-05-04T03:38:22.227575928Z","st_nlink":1,"st_mode":33133,"st_ino":1183413,"st_birthtimespec":"2025-05-04T03:38:22.227575928Z"},"path_truncated":false},"session_id":6430,"signing_id":"node","start_time":"2025-05-15T10:50:25.820996Z","tty":{"path":"/dev/ttys009","stat":{"st_atimespec":"2025-05-15T10:50:20.121965000Z","st_rdev":268435465,"st_gen":0,"st_gid":4,"st_size":0,"st_flags":0,"st_blksize":65536,"st_uid":501,"st_ctimespec":"2025-05-15T10:50:25.816204000Z","st_blocks":0,"st_dev":1473701289,"st_mtimespec":"2025-05-15T10:50:25.816204000Z","st_nlink":1,"st_mode":8592,"st_ino":853,"st_birthtimespec":"1970-01-01T00:00:00.000000000Z"},"path_truncated":false},"cdhash":"B40070F1D4AC3A274428F2CCAA3E6DFBE3AF24A0","codesigning_flags":570556931,"ppid":7322,"audit_token":{"pid":9546,"egid":20,"ruid":501,"auid":501,"asid":100003,"rgid":20,"euid":501,"pidversion":19113}},"action":{"result":{"result_type":0,"result":{"auth":0}}},"global_seq_num":2276,"version":8,"mach_time":99639262612,"event":{"exec":{"fds":[{"fd":0,"fdtype":2},{"fd":1,"fdtype":2},{"fd":2,"fdtype":2}],"args":["/bin/bash","-c","-l","source /var/folders/kj/qbc32fzd2pv6ngnsysy8vpmw0000gn/T/claude-shell-snapshot-88fb && eval 'go test ./...' \\< /dev/null && pwd >| /var/folders/kj/qbc32fzd2pv6ngnsysy8vpmw0000gn/T/claude-5600-cwd"],"script":null,"last_fd":2,"image_cpusubtype":-2147483646,"env":["TERM_PROGRAM=iTerm.app","TERM=xterm-256color","SHELL=/bin/bash","TMPDIR=/var/folders/kj/qbc32fzd2pv6ngnsysy8vpmw0000gn/T/","TERM_PROGRAM_VERSION=3.5.10","TERM_SESSION_ID=w0t0p1:4DF58C48-7436-483F-B9C4-62FC24E16E49","USER=tmc","COMMAND_MODE=unix2003","SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.UZOCaarHbT/Listeners","__CF_USER_TEXT_ENCODING=0x1F5:0x0:0x0","BASH_SILENCE_DEPRECATION_WARNING=1","TERM_FEATURES=T3LrMSc7UUw9Ts3BFGsSyHNoSxF","TERMINFO_DIRS=/Applications/iTerm.app/Contents/Resources/terminfo:/usr/share/terminfo","PATH=/Users/tmc/.bun/bin:/Users/tmc/.local/bin:/Users/tmc/.local/homebrew/share/google-cloud-sdk/bin:/Users/tmc/go/bin:/Users/tmc/.local/homebrew/bin:/Users/tmc/.local/bin:/Users/tmc/local/bin:/usr/local/bin:/Users/tmc/bin:/Users/tmc/go/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Applications/Little Snitch.app/Contents/Components:/usr/local/go/bin:/Applications/iTerm.app/Contents/Resources/utilities","__CFBundleIdentifier=com.googlecode.iterm2","PWD=/Users/tmc/go/src/github.com/tmc/mcp","EDITOR=vim","LANG=en_US.UTF-8","ITERM_PROFILE=Default","XPC_FLAGS=0x0","XPC_SERVICE_NAME=0","SHLVL=1","HOME=/Users/tmc","COLORFGBG=15;0","LC_TERMINAL_VERSION=3.5.10","ITERM_SESSION_ID=w0t0p1:4DF58C48-7436-483F-B9C4-62FC24E16E49","LOGNAME=tmc","BUN_INSTALL=/Users/tmc/.bun","LC_TERMINAL=iTerm2","DISABLE_TELEMETRY=1","COLORTERM=truecolor","_=/Users/tmc/.local/homebrew/bin/claude","OLDPWD=/Users/tmc/go/src/github.com/tmc","OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE=delta","CLAUDE_CODE_ENTRYPOINT=CLI","COREPACK_ENABLE_AUTO_PIN=0","GIT_EDITOR=true","CLAUDECODE=1"],"dyld_exec_path":"/bin/bash","image_cputype":16777228,"target":{"is_platform_binary":true,"responsible_audit_token":{"asid":100003,"egid":20,"auid":501,"euid":501,"pid":5171,"pidversion":10927,"rgid":20,"ruid":501},"is_es_client":false,"original_ppid":7322,"parent_audit_token":{"asid":100003,"egid":20,"auid":501,"euid":501,"pid":7322,"pidversion":14951,"rgid":20,"ruid":501},"group_id":9546,"team_id":null,"session_id":9546,"executable":{"path_truncated":false,"stat":{"st_atimespec":"2025-05-04T05:39:22.000000000Z","st_rdev":0,"st_gen":0,"st_gid":0,"st_size":1310224,"st_flags":524320,"st_blksize":4096,"st_uid":0,"st_ctimespec":"2025-05-04T05:39:22.000000000Z","st_blocks":1400,"st_dev":16777254,"st_mtimespec":"2025-05-04T05:39:22.000000000Z","st_nlink":1,"st_mode":33133,"st_ino":1152921500312522363,"st_birthtimespec":"2025-05-04T05:39:22.000000000Z"},"path":"/bin/bash"},"signing_id":"com.apple.bash","start_time":"2025-05-15T10:50:25.820996Z","tty":null,"cdhash":"C1C7A9C4A112A53C9B6F0B610BDF8E3D1B8B2B0A","ppid":7322,"codesigning_flags":637602561,"audit_token":{"egid":20,"euid":501,"auid":501,"pidversion":19114,"asid":100003,"ruid":501,"pid":9546,"rgid":20}},"cwd":{"stat":{"st_rdev":0,"st_atimespec":"2025-05-15T10:40:16.613548152Z","st_gen":0,"st_gid":20,"st_size":2688,"st_flags":0,"st_blksize":4096,"st_ctimespec":"2025-05-15T10:40:13.275284890Z","st_uid":501,"st_blocks":0,"st_dev":16777268,"st_mtimespec":"2025-05-15T10:40:13.275284890Z","st_mode":16877,"st_nlink":84,"st_ino":11448707,"st_birthtimespec":"2025-04-05T13:29:36.542312000Z"},"path_truncated":false,"path":"/Volumes/tmc/go/src/github.com/tmc/mcp"}}},"schema_version":1}
