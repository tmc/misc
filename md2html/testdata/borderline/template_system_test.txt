# Test template system with custom templates

# Create custom template directory
mkdir custom-templates

# Start server with custom templates
md2html -templates custom-templates -http :8194 &
sleep 1s

# Check custom styles are applied
curl -s http://localhost:8094/
stdout 'background: #123456'

# Test that template includes custom CSS class
curl -s http://localhost:8094/
stdout 'custom-test'

# Clean up background process
wait

# Cleanup
rm -rf custom-templates

-- template_test.md --
# Custom Template Test

This page uses custom templates.

-- custom-templates/styles.html --
{{define "styles"}}
<style>
    body { background: #123456; }
    .custom-test { color: red; }
</style>
{{end}}