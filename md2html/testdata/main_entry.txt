# Test main entry point and run function

# Test main() with help flag
md2html -h
stderr 'Usage of'

# Test main() with server mode
md2html -http :9042 entry.md &
sleep 1s
curl -s http://localhost:9042/
stdout 'Entry Point Test'

# Test main() with static HTML generation
md2html -html test_output -html-ext html .
exists test_output/entry.html
rm test_output/entry.html

# Show that . is equivalent to no path argument.
md2html -html test_output -html-ext html
exists test_output/entry.html

-- entry.md --
# Entry Point Test

This tests the main() and run() functions directly.
